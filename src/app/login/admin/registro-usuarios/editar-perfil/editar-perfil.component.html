<div class="container-fluid">

   <!--migas de pan-->
   <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a [routerLink]="['/Inicio']">Inicio</a></li>
      <li class="breadcrumb-item active" aria-current="page">Editar Perfil</li>
    </ol>
  </nav>
  <!--fin migas de pan-->
<div class="row">
  <div class="col-md-6">
    <div class="form-group">
      <label for="image"><h5 style="text-align: center;">Imagen de Perfil</h5></label>
      <div class="avatar_mask mx-auto" *ngIf="identity && identity.image">
        <img id="perfil" src="{{url+'user/image/'+identity.image}}" class="avatar_navbar" height="250px">
      </div>
      <div *ngIf="!identity.image">
        <a class="btn btn-outline-info btn-image">
          <i class="fas fa-cloud-upload-alt fa-2x"></i>
        </a>
      </div>
      <hr>
      <angular-file-uploader
       [config]="afuConfig" 
       (ApiResponse)="imageUpload($event)">
      </angular-file-uploader
      >
    </div>
  </div>
  <div class="col-md-6">
    <!--formulario para crear/actualizar modelo-->
    <form class="col-md" #userEditForm="ngForm" (ngSubmit)="onSubmit(userEditForm)">
      <h3 class="mt-3">Edita tu perfil</h3>
      <div class="form-group">
        <label for="name">Nombres</label>
        <input type="text" name="name" #name="ngModel" [(ngModel)]="user.name" class="form-control" required>
        <small *ngIf="!name.valid && name.touched" class="invalid-feedback d-block">
          Debe ingresar el nombre
        </small>
      </div>

      <div class="form-group">
        <label for="surname">Apellidos</label>
        <input type="text" name="surname" #surname="ngModel" [(ngModel)]="user.surname" class="form-control" required>
        <small *ngIf="!surname.valid && surname.touched" class="invalid-feedback d-block">
          Debe ingresar el apellido
        </small>
      </div>

      <div class="form-group">
        <label for="email">E-mail</label>
        <input type="text" name="email" #email="ngModel" [(ngModel)]="user.email" class="form-control" required>
        <small *ngIf="!email.valid && email.touched" class="invalid-feedback d-block">
          Debe ingresar el E-mail
        </small>
      </div>



      <input value="Guardar" type="submit" class="btn btn-success" [disabled]="userEditForm.invalid">
    </form>
    <!--fin formulario para crear/actualizar modelo-->
  </div>
</div>
</div>
